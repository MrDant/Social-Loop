function o(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function s(){return/Android/gi.test(window.navigator.userAgent)}function u(){return o()||s()}function d(){let i=[],n={addEventListener(t,e,r,a){return t.addEventListener(e,r,a),n.add(()=>t.removeEventListener(e,r,a))},requestAnimationFrame(...t){let e=requestAnimationFrame(...t);n.add(()=>cancelAnimationFrame(e))},nextFrame(...t){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...t)})},setTimeout(...t){let e=setTimeout(...t);n.add(()=>clearTimeout(e))},style(t,e,r){let a=t.style.getPropertyValue(e);return Object.assign(t.style,{[e]:r}),this.add(()=>{Object.assign(t.style,{[e]:a})})},group(t){let e=d();return t(e),this.add(()=>e.dispose())},add(t){return i.push(t),()=>{let e=i.indexOf(t);if(e>=0)for(let r of i.splice(e,1))r()}},dispose(){for(let t of i.splice(0))t()}};return n}export{u as n,d as r,o as t};
