import z from"./Checkbox.394bb316.js";import{_ as X,E as Y,K as S,L as I,D as h,q as w,r as _,o as d,c as m,a as b,P as c,b as T,a3 as C,N as B,O as R,R as v,Q as O,t as A,m as $,J as x,V as ee,y as te,d as ne,h as ae}from"./entry.dacc0237.js";import{b as oe,o as re}from"./omit.c8ee7f34.js";import{t as L,i as J,a as M,b as j,c as ue}from"./_baseGet.7027903f.js";import{b as se}from"./_baseIteratee.2dcf497f.js";import{b as ie}from"./_baseMap.b19e1a01.js";import{i as le,b as de}from"./_Uint8Array.2001a1b1.js";import"./_getAllKeysIn.26012f41.js";import"./get.63e62d79.js";function ce(e,t,n){var u=e.length;return n=n===void 0?u:n,!t&&n>=u?e:oe(e,t,n)}var fe="\\ud800-\\udfff",me="\\u0300-\\u036f",pe="\\ufe20-\\ufe2f",be="\\u20d0-\\u20ff",ge=me+pe+be,ye="\\ufe0e\\ufe0f",Se="\\u200d",he=RegExp("["+Se+fe+ge+ye+"]");function H(e){return he.test(e)}function ke(e){return e.split("")}var P="\\ud800-\\udfff",Ce="\\u0300-\\u036f",ve="\\ufe20-\\ufe2f",Ae="\\u20d0-\\u20ff",$e=Ce+ve+Ae,Ve="\\ufe0e\\ufe0f",we="["+P+"]",U="["+$e+"]",F="\\ud83c[\\udffb-\\udfff]",Be="(?:"+U+"|"+F+")",q="[^"+P+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",W="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="\\u200d",Z=Be+"?",D="["+Ve+"]?",Oe="(?:"+Re+"(?:"+[q,N,W].join("|")+")"+D+Z+")*",Me=D+Z+Oe,je="(?:"+[q+U+"?",U,N,W,we].join("|")+")",Ue=RegExp(F+"(?="+F+")|"+je+Me,"g");function Fe(e){return e.match(Ue)||[]}function Ee(e){return H(e)?Fe(e):ke(e)}function Te(e){return function(t){t=L(t);var n=H(t)?Ee(t):void 0,u=n?n[0]:t.charAt(0),l=n?ce(n,1).join(""):t.slice(1);return u[e]()+l}}var Je=Te("toUpperCase");const Le=Je;function He(e){return Le(L(e).toLowerCase())}function Pe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function qe(e,t){if(e!==t){var n=e!==void 0,u=e===null,l=e===e,i=J(e),r=t!==void 0,p=t===null,s=t===t,o=J(t);if(!p&&!o&&!i&&e>t||i&&r&&s&&!p&&!o||u&&r&&s||!n&&s||!l)return 1;if(!u&&!i&&!o&&e<t||o&&n&&l&&!u&&!i||p&&n&&l||!r&&l||!s)return-1}return 0}function Ne(e,t,n){for(var u=-1,l=e.criteria,i=t.criteria,r=l.length,p=n.length;++u<r;){var s=qe(l[u],i[u]);if(s){if(u>=p)return s;var o=n[u];return s*(o=="desc"?-1:1)}}return e.index-t.index}function We(e,t,n){t.length?t=M(t,function(i){return j(i)?function(r){return ue(r,i.length===1?i[0]:i)}:i}):t=[le];var u=-1;t=M(t,de(se));var l=ie(e,function(i,r,p){var s=M(t,function(o){return o(i)});return{criteria:s,index:++u,value:i}});return Pe(l,function(i,r){return Ne(i,r,n)})}function Ze(e,t,n,u){return e==null?[]:(j(t)||(t=t==null?[]:[t]),n=u?void 0:n,j(n)||(n=n==null?[]:[n]),We(e,t,n))}function De(e,t){return e===t}const Ge=Y({props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>De},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortButton:{type:Object,default:()=>S.ui.table.default.sortButton},sortAscIcon:{type:String,default:()=>S.ui.table.default.sortAscIcon},sortDescIcon:{type:String,default:()=>S.ui.table.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>S.ui.table.default.loadingState},emptyState:{type:Object,default:()=>S.ui.table.default.emptyState},ui:{type:Object,default:()=>S.ui.table}},emits:["update:modelValue"],setup(e,{emit:t,attrs:n}){const u=I(),l=h(()=>w({},e.ui,u.ui.table)),i=h(()=>e.columns??Object.keys(re(e.rows[0]??{},["click"])).map(a=>({key:a,label:He(a),sortable:!1}))),r=_(w({},e.sort,{column:null,direction:"asc"})),p=h(()=>{var k;if(!((k=r.value)!=null&&k.column))return e.rows;const{column:a,direction:f}=r.value;return Ze(e.rows,a,f)}),s=h({get(){return e.modelValue},set(a){t("update:modelValue",a)}}),o=h(()=>s.value&&s.value.length>0&&s.value.length<e.rows.length),y=h(()=>({...l.value.default.emptyState,...e.emptyState}));function g(a,f){if(typeof e.by=="string"){const k=e.by;return(a==null?void 0:a[k])===(f==null?void 0:f[k])}return e.by(a,f)}function V(a){return e.modelValue?s.value.some(f=>g($(f),$(a))):!1}function G(a){if(r.value.column===a.key){const f=!a.direction||a.direction==="asc"?"desc":"asc";r.value.direction===f?r.value=w({},e.sort,{column:null,direction:"asc"}):r.value.direction=r.value.direction==="asc"?"desc":"asc"}else r.value={column:a.key,direction:a.direction||"asc"}}function E(a){n.onSelect&&n.onSelect(a)}function K(){e.rows.forEach(a=>{s.value.some(f=>g($(f),$(a)))||E(a)})}function Q(a){a.target.checked?K():s.value=[]}return{ui:l,sort:r,columns:i,rows:p,selected:s,indeterminate:o,emptyState:y,isSelected:V,onSort:G,onSelect:E,onChange:Q}}}),Ke={key:0,scope:"col",class:"ps-4"},Qe={key:1},ze=["onClick"],Xe={key:0,class:"ps-4"},Ye={key:0},Ie=["colspan"],_e={key:1},xe=["colspan"];function et(e,t,n,u,l,i){const r=z,p=ae,s=x;return d(),m("div",{class:c(e.ui.wrapper)},[b("table",{class:c([e.ui.base,e.ui.divide])},[b("thead",{class:c(e.ui.thead)},[b("tr",{class:c(e.ui.tr.base)},[e.modelValue?(d(),m("th",Ke,[T(r,{checked:e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,onChange:e.onChange},null,8,["checked","indeterminate","onChange"])])):C("",!0),(d(!0),m(B,null,R(e.columns,(o,y)=>(d(),m("th",{key:y,scope:"col",class:c([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,o.class])},[v(e.$slots,`${o.key}-header`,{column:o,sort:e.sort,onSort:e.onSort},()=>[o.sortable?(d(),O(p,ee({key:0},{...e.ui.default.sortButton,...e.sortButton},{icon:!e.sort.column||e.sort.column!==o.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:o[e.columnAttribute],onClick:g=>e.onSort(o)}),null,16,["icon","label","onClick"])):(d(),m("span",Qe,A(o[e.columnAttribute]),1))])],2))),128))],2)],2),b("tbody",{class:c(e.ui.tbody)},[(d(!0),m(B,null,R(e.rows,(o,y)=>(d(),m("tr",{key:y,class:c([e.ui.tr.base,e.isSelected(o)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active]),onClick:()=>e.onSelect(o)},[e.modelValue?(d(),m("td",Xe,[T(r,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=g=>e.selected=g),value:o,onClick:t[1]||(t[1]=te(()=>{},["stop"]))},null,8,["modelValue","value"])])):C("",!0),(d(!0),m(B,null,R(e.columns,(g,V)=>(d(),m("td",{key:V,class:c([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[v(e.$slots,`${g.key}-data`,{column:g,row:o,index:y},()=>[ne(A(o[g.key]),1)])],2))),128))],10,ze))),128)),e.loadingState&&e.loading?(d(),m("tr",Ye,[b("td",{colspan:e.columns.length+(e.modelValue?1:0)},[v(e.$slots,"loading-state",{},()=>[b("div",{class:c(e.ui.loadingState.wrapper)},[e.loadingState.icon?(d(),O(s,{key:0,name:e.loadingState.icon,class:c(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):C("",!0),b("p",{class:c(e.ui.loadingState.label)},A(e.loadingState.label),3)],2)])],8,Ie)])):e.emptyState&&!e.rows.length?(d(),m("tr",_e,[b("td",{colspan:e.columns.length+(e.modelValue?1:0)},[v(e.$slots,"empty-state",{},()=>[b("div",{class:c(e.ui.emptyState.wrapper)},[e.emptyState.icon?(d(),O(s,{key:0,name:e.emptyState.icon,class:c(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):C("",!0),b("p",{class:c(e.ui.emptyState.label)},A(e.emptyState.label),3)],2)])],8,xe)])):C("",!0)],2)],2)],2)}const dt=X(Ge,[["render",et]]);export{dt as default};
