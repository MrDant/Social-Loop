import{E as I,I as j,D as n,r as O,G as P,k as T,a0 as h,N as U,_ as G,J as V,K as m,L as M,q as R,Z as y,M as q,o as g,Q as z,w as F,a as J,P as d,c as b,b as C,a3 as k}from"./entry.dacc0237.js";import{t as Q,o as Z,K as W,H as X,T as Y,a as S}from"./dom.bfe96e30.js";import{b as _}from"./use-resolve-button-type.8be0fdf6.js";import{f as x,a as ee}from"./hidden.f6e7081c.js";import{d as ae,p as le}from"./use-controllable.334d0f45.js";let oe=Symbol("GroupContext"),te=I({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${Q()}`}},inheritAttrs:!1,setup(e,{emit:i,attrs:s,slots:l,expose:f}){let t=j(oe,null),[o,r]=ae(n(()=>e.modelValue),a=>i("update:modelValue",a),n(()=>e.defaultChecked));function c(){r(!o.value)}let w=O(null),p=t===null?w:t.switchRef,B=_(n(()=>({as:e.as,type:s.type})),p);f({el:p,$el:p});function A(a){a.preventDefault(),c()}function E(a){a.key===S.Space?(a.preventDefault(),c()):a.key===S.Enter&&le(a.currentTarget)}function $(a){a.preventDefault()}let v=n(()=>{var a,u;return(u=(a=Z(p))==null?void 0:a.closest)==null?void 0:u.call(a,"form")});return P(()=>{T([v],()=>{if(!v.value||e.defaultChecked===void 0)return;function a(){r(e.defaultChecked)}return v.value.addEventListener("reset",a),()=>{var u;(u=v.value)==null||u.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{id:a,name:u,value:D,form:H,...K}=e,N={checked:o.value},L={id:a,ref:p,role:"switch",type:B.value,tabIndex:0,"aria-checked":o.value,"aria-labelledby":t==null?void 0:t.labelledby.value,"aria-describedby":t==null?void 0:t.describedby.value,onClick:A,onKeyup:E,onKeypress:$};return h(U,[u!=null&&o.value!=null?h(x,W({features:ee.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:o.value,form:H,name:u,value:D})):null,X({ourProps:L,theirProps:{...s,...Y(K,["modelValue","defaultChecked"])},slot:N,attrs:s,slots:l,name:"Switch"})])}}});const ne=I({components:{HSwitch:te,UIcon:V},props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onIcon:{type:String,default:()=>m.ui.toggle.default.onIcon},offIcon:{type:String,default:()=>m.ui.toggle.default.offIcon},color:{type:String,default:()=>m.ui.toggle.default.color,validator(e){return m.ui.colors.includes(e)}},ui:{type:Object,default:()=>m.ui.toggle}},emits:["update:modelValue"],setup(e,{emit:i}){const s=M(),l=n(()=>R({},e.ui,s.ui.toggle)),f=n({get(){return e.modelValue},set(c){i("update:modelValue",c)}}),t=n(()=>y(l.value.base,l.value.rounded,l.value.ring.replaceAll("{color}",e.color),(f.value?l.value.active:l.value.inactive).replaceAll("{color}",e.color))),o=n(()=>y(l.value.icon.on.replaceAll("{color}",e.color))),r=n(()=>y(l.value.icon.off.replaceAll("{color}",e.color)));return{ui:l,active:f,switchClass:t,onIconClass:o,offIconClass:r}}});function ue(e,i,s,l,f,t){const o=V,r=q("HSwitch");return g(),z(r,{modelValue:e.active,"onUpdate:modelValue":i[0]||(i[0]=c=>e.active=c),name:e.name,disabled:e.disabled,class:d(e.switchClass)},{default:F(()=>[J("span",{class:d([e.active?e.ui.container.active:e.ui.container.inactive,e.ui.container.base])},[e.onIcon?(g(),b("span",{key:0,class:d([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[C(o,{name:e.onIcon,class:d(e.onIconClass)},null,8,["name","class"])],2)):k("",!0),e.offIcon?(g(),b("span",{key:1,class:d([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[C(o,{name:e.offIcon,class:d(e.offIconClass)},null,8,["name","class"])],2)):k("",!0)],2)]),_:1},8,["modelValue","name","disabled","class"])}const fe=G(ne,[["render",ue]]);export{fe as default};
