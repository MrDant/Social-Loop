import{_ as H,E as N,J as q,a1 as O,K as P,D as w,M as z,o,c as a,P as s,t as i,a3 as p,a as m,N as I,O as A,Q as b,w as S,R as h,V as M,a2 as V,d as j}from"./entry.dacc0237.js";import U from"./Kbd.798baf09.js";import{J as E}from"./combobox.2ab27c44.js";import"./dom.bfe96e30.js";import"./use-tracked-pointer.220f5eae.js";import"./use-outside-click.1042b592.js";import"./open-closed.dddb8e01.js";import"./use-resolve-button-type.8be0fdf6.js";import"./hidden.f6e7081c.js";import"./use-controllable.334d0f45.js";import"./disposables.104b7b0c.js";const J=N({components:{HComboboxOption:E,UIcon:q,UAvatar:O,UKbd:U},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,default:()=>P.ui.commandPalette}},setup(e){const v=w(()=>{const u=e.group[e.groupAttribute];return typeof u=="function"?u(e.query):u});function $(u,{indices:C,value:l}){if(u===l)return"";let t="",g=0;C.forEach(n=>{const r=n[1]+1,y=r-n[0]>=e.query.length;t+=[l.substring(g,n[0]),y&&"<mark>",l.substring(n[0],r),y&&"</mark>"].filter(Boolean).join(""),g=r}),t+=l.substring(g);const f=t.indexOf("<mark>");return f>60&&(t=`...${t.substring(f-60)}`),t}return{label:v,highlight:$}}}),K=["aria-label"],L=["innerHTML"];function T(e,v,$,u,C,l){const t=q,g=O,f=U,n=z("HComboboxOption");return o(),a("div",{class:s(e.ui.group.wrapper),role:"option"},[e.label?(o(),a("h2",{key:0,class:s(e.ui.group.label)},i(e.label),3)):p("",!0),m("div",{class:s(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(o(!0),a(I,null,A(e.group.commands,(r,y)=>(o(),b(n,{key:`${e.group.key}-${y}`,value:r,disabled:r.disabled,as:"template"},{default:S(({active:k,selected:B})=>[m("div",{class:s([e.ui.group.command.base,k?e.ui.group.command.active:e.ui.group.command.inactive,r.disabled?"cursor-not-allowed":"cursor-pointer"])},[m("div",{class:s(e.ui.group.command.container)},[h(e.$slots,`${e.group.key}-icon`,{group:e.group,command:r},()=>[r.icon?(o(),b(t,{key:0,name:r.icon,class:s([e.ui.group.command.icon.base,k?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,r.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):r.avatar?(o(),b(g,M({key:1},{size:e.ui.group.command.avatar.size,...r.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):r.chip?(o(),a("span",{key:2,class:s(e.ui.group.command.chip.base),style:V({background:`#${r.chip}`})},null,6)):p("",!0)]),m("div",{class:s([e.ui.group.command.label,r.disabled&&e.ui.group.command.disabled])},[h(e.$slots,`${e.group.key}-command`,{group:e.group,command:r},()=>{var d,c;return[r.prefix?(o(),a("span",{key:0,class:s(["flex-shrink-0",r.prefixClass||e.ui.group.command.prefix])},i(r.prefix),3)):p("",!0),m("span",{class:s(["truncate",{"flex-none":r.suffix||((d=r.matches)==null?void 0:d.length)}])},i(r[e.commandAttribute]),3),(c=r.matches)!=null&&c.length?(o(),a("span",{key:1,class:s(["truncate",r.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(r[e.commandAttribute],r.matches[0])},null,10,L)):r.suffix?(o(),a("span",{key:2,class:s(["truncate",r.suffixClass||e.ui.group.command.suffix])},i(r.suffix),3)):p("",!0)]})],2)],2),B?(o(),b(t,{key:0,name:e.selectedIcon,class:s(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):k&&(e.group.active||e.$slots[`${e.group.key}-active`])?h(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:r},()=>[e.group.active?(o(),a("span",{key:0,class:s(e.ui.group.active)},i(e.group.active),3)):p("",!0)]):h(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:r},()=>{var d;return[(d=r.shortcuts)!=null&&d.length?(o(),a("span",{key:0,class:s(e.ui.group.command.shortcuts)},[(o(!0),a(I,null,A(r.shortcuts,c=>(o(),b(f,{key:c},{default:S(()=>[j(i(c),1)]),_:2},1024))),128))],2)):!r.disabled&&e.group.inactive?(o(),a("span",{key:1,class:s(e.ui.group.inactive)},i(e.group.inactive),3)):p("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,K)],2)}const ee=H(J,[["render",T]]);export{ee as default};
