import{a as S,c as H,m}from"./use-outside-click.1042b592.js";import{r as i,H as E,E as f,F as v,I as p,D as j,G as x,j as y,a0 as b,ag as F,v as $}from"./entry.dacc0237.js";import{H as h,o as w}from"./dom.bfe96e30.js";import{a as B,f as L}from"./hidden.f6e7081c.js";var M=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M||{});function A(){let e=i(0);return S("keydown",r=>{r.key==="Tab"&&(e.value=r.shiftKey?1:0)}),e}function D(e,r,n,l){H.isServer||E(u=>{e=e??window,e.addEventListener(r,n,l),u(()=>e.removeEventListener(r,n,l))})}let T=Symbol("ForcePortalRootContext");function O(){return p(T,!1)}let N=f({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:r,attrs:n}){return v(T,e.force),()=>{let{force:l,...u}=e;return h({theirProps:u,ourProps:{},slot:{},slots:r,attrs:n,name:"ForcePortalRoot"})}}});function k(e){let r=m(e);if(!r){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=r.getElementById("headlessui-portal-root");if(n)return n;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)}let q=f({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:r,attrs:n}){let l=i(null),u=j(()=>m(l)),a=O(),o=p(C,null),t=i(a===!0||o==null?k(l.value):o.resolveTarget());E(()=>{a||o!=null&&(t.value=o.resolveTarget())});let d=p(c,null);return x(()=>{let s=w(l);s&&d&&y(d.register(s))}),y(()=>{var s,P;let g=(s=u.value)==null?void 0:s.getElementById("headlessui-portal-root");g&&t.value===g&&t.value.children.length<=0&&((P=t.value.parentElement)==null||P.removeChild(t.value))}),()=>{if(t.value===null)return null;let s={ref:l,"data-headlessui-portal":""};return b(F,{to:t.value},h({ourProps:s,theirProps:e,slot:{},attrs:n,slots:r,name:"Portal"}))}}}),c=Symbol("PortalParentContext");function K(){let e=p(c,null),r=i([]);function n(a){return r.value.push(a),e&&e.register(a),()=>l(a)}function l(a){let o=r.value.indexOf(a);o!==-1&&r.value.splice(o,1),e&&e.unregister(a)}let u={register:n,unregister:l,portals:r};return[r,f({name:"PortalWrapper",setup(a,{slots:o}){return v(c,u),()=>{var t;return(t=o.default)==null?void 0:t.call(o)}}})]}let C=Symbol("PortalGroupContext"),V=f({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:r,slots:n}){let l=$({resolveTarget(){return e.target}});return v(C,l),()=>{let{target:u,...a}=e;return h({theirProps:a,ourProps:{},slot:{},attrs:r,slots:n,name:"PortalGroup"})}}});function W({defaultContainers:e=[],portals:r}={}){let n=i(null),l=m(n);function u(){var a;let o=[];for(let t of e)t!==null&&(t instanceof HTMLElement?o.push(t):"value"in t&&t.value instanceof HTMLElement&&o.push(t.value));if(r!=null&&r.value)for(let t of r.value)o.push(t);for(let t of(a=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])t!==document.body&&t!==document.head&&t instanceof HTMLElement&&t.id!=="headlessui-portal-root"&&(t.contains(w(n))||o.some(d=>t.contains(d))||o.push(t));return o}return{resolveContainers:u,contains(a){return u().some(o=>o.contains(a))},mainTreeNodeRef:n,MainTreeNode(){return b(L,{features:B.Hidden,ref:n})}}}export{D as E,N as P,q as U,K as V,V as _,M as d,A as n,W as p};
