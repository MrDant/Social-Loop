import{E as B,r as v,F as T,D as y,G as j,j as _,H as M,I as z,k as F,_ as Q,J as U,h as K,K as O,L as X,q,M as E,o as P,c as w,N as G,O as J,P as H,Q as W,w as D,b as g,R as C,S as Y,T as Z,U as x,V as ee,W as te,a as oe,d as ne,t as se,X as le}from"./entry.dacc0237.js";import{u as L,o as b,H as k,t as N,N as A,a as S}from"./dom.bfe96e30.js";import{c as ae,l as I,p as ue}from"./open-closed.dddb8e01.js";import{b as re}from"./use-resolve-button-type.8be0fdf6.js";import{o as ie}from"./omit.c8ee7f34.js";import"./_baseGet.7027903f.js";import"./_Uint8Array.2001a1b1.js";import"./_getAllKeysIn.26012f41.js";var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{});let R=Symbol("DisclosureContext");function $(e){let l=z(R,null);if(l===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$),r}return l}let V=Symbol("DisclosurePanelContext");function pe(){return z(V,null)}let de=B({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:l,attrs:r}){let u=v(e.defaultOpen?0:1),t=v(null),c=v(null),a={buttonId:v(null),panelId:v(null),disclosureState:u,panel:t,button:c,toggleDisclosure(){u.value=L(u.value,{[0]:1,[1]:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(s){a.closeDisclosure();let i=(()=>s?s instanceof HTMLElement?s:s.value instanceof HTMLElement?b(s):b(a.button):b(a.button))();i==null||i.focus()}};return T(R,a),ae(y(()=>L(u.value,{[0]:I.Open,[1]:I.Closed}))),()=>{let{defaultOpen:s,...i}=e,p={open:u.value===0,close:a.close};return k({theirProps:i,ourProps:{},slot:p,slots:l,attrs:r,name:"Disclosure"})}}}),fe=B({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-disclosure-button-${N()}`}},setup(e,{attrs:l,slots:r,expose:u}){let t=$("DisclosureButton");j(()=>{t.buttonId.value=e.id}),_(()=>{t.buttonId.value=null});let c=pe(),a=y(()=>c===null?!1:c.value===t.panelId.value),s=v(null);u({el:s,$el:s}),a.value||M(()=>{t.button.value=s.value});let i=re(y(()=>({as:e.as,type:l.type})),s);function p(){var o;e.disabled||(a.value?(t.toggleDisclosure(),(o=b(t.button))==null||o.focus()):t.toggleDisclosure())}function n(o){var d;if(!e.disabled)if(a.value)switch(o.key){case S.Space:case S.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure(),(d=b(t.button))==null||d.focus();break}else switch(o.key){case S.Space:case S.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure();break}}function f(o){switch(o.key){case S.Space:o.preventDefault();break}}return()=>{let o={open:t.disclosureState.value===0},{id:d,...m}=e,h=a.value?{ref:s,type:i.value,onClick:p,onKeydown:n}:{id:d,ref:s,type:i.value,"aria-expanded":e.disabled?void 0:t.disclosureState.value===0,"aria-controls":b(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:p,onKeydown:n,onKeyup:f};return k({ourProps:h,theirProps:m,slot:o,attrs:l,slots:r,name:"DisclosureButton"})}}}),me=B({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-disclosure-panel-${N()}`}},setup(e,{attrs:l,slots:r,expose:u}){let t=$("DisclosurePanel");j(()=>{t.panelId.value=e.id}),_(()=>{t.panelId.value=null}),u({el:t.panel,$el:t.panel}),T(V,t.panelId);let c=ue(),a=y(()=>c!==null?(c.value&I.Open)===I.Open:t.disclosureState.value===0);return()=>{let s={open:t.disclosureState.value===0,close:t.close},{id:i,...p}=e,n={id:i,ref:t.panel};return k({ourProps:n,theirProps:p,slot:s,attrs:l,slots:r,features:A.RenderStrategy|A.Static,visible:a.value,name:"DisclosurePanel"})}}});const ve=B({props:{open:{type:Boolean,default:!1}},emits:["open","close"],setup(e,{emit:l}){return F(()=>e.open,r=>{l(r?"open":"close")}),()=>{}}}),ge=B({components:{HDisclosure:de,HDisclosureButton:fe,HDisclosurePanel:me,UIcon:U,UButton:K,StateEmitter:ve},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>O.ui.accordion.default.openIcon},closeIcon:{type:String,default:()=>O.ui.accordion.default.closeIcon},multiple:{type:Boolean,default:!1},ui:{type:Object,default:()=>O.ui.accordion}},setup(e){const l=X(),r=y(()=>q({},e.ui,l.ui.accordion)),u=y(()=>l.ui.button),t=v([]);function c(n){!e.items[n].closeOthers&&e.multiple||t.value.forEach((f,o)=>{o!==n&&f()})}function a(n,f){n.style.height="0",n.offsetHeight,n.style.height=n.scrollHeight+"px",n.addEventListener("transitionend",f,{once:!0})}function s(n){n.style.height=n.scrollHeight+"px",n.offsetHeight}function i(n){n.style.height="auto"}function p(n,f){n.style.height="0",n.addEventListener("transitionend",f,{once:!0})}return{ui:r,uiButton:u,buttonRefs:t,closeOthers:c,omit:ie,onEnter:a,onBeforeLeave:s,onAfterEnter:i,onLeave:p}}});function be(e,l,r,u,t,c){const a=U,s=K,i=E("HDisclosureButton"),p=E("StateEmitter"),n=E("HDisclosurePanel"),f=E("HDisclosure");return P(),w("div",{class:H(e.ui.wrapper)},[(P(!0),w(G,null,J(e.items,(o,d)=>(P(),W(f,{key:d,"default-open":e.defaultOpen||o.defaultOpen},{default:D(({open:m,close:h})=>[g(i,{ref_for:!0,ref:()=>e.buttonRefs[d]=h,as:"template",disabled:o.disabled},{default:D(()=>[C(e.$slots,"default",{item:o,index:d,open:m,close:h},()=>[g(s,Y(Z({...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.$attrs,...e.omit(o,["slot","disabled","content","defaultOpen"])})),{trailing:D(()=>[g(a,{name:m&&e.closeIcon?e.closeIcon:e.openIcon,class:H([m&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[o.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled"]),g(p,{open:m,onOpen:ye=>e.closeOthers(d)},null,8,["open","onOpen"]),g(x,ee(e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:D(()=>[te(oe("div",null,[g(n,{class:H([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:D(()=>[C(e.$slots,o.slot||"item",{item:o,index:d,open:m,close:h},()=>[ne(se(o.content),1)])]),_:2},1032,["class"])],512),[[le,m]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["default-open"]))),128))],2)}const He=Q(ge,[["render",be]]);export{He as default};
